<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canh Bao</title>
    <link rel="stylesheet" href="../assets/css/style_alert.css"> <!-- Liên kết tới file CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js"></script>

</head>

<body>

    <header class="header">
        <div class="logo-container">
            <a href="menu.html">
                <img src="Logo-Dai-Hoc-Giao-Thong-Van-Tai-UTC.webp" alt="Logo">
            </a>
            <span class="logo-text">HỆ THỐNG GIÁM SÁT CHẤT LƯỢNG KHÍ THẢI</span>
        </div>
        <!-- Menu -->
        <nav class="menu">
            <a href="home.html"><i class="fas fa-home"></i> Trang chủ</a>
            <div class="subnav">
                <button class="subnavbtn"><i class="fas fa-eye"></i> Giám sát <i class="fa fa-caret-down"></i></button>
                <div class="subnav-content">
                    <a href="giamsat1.html">Trạm 1(Phòng Lab)</a>
                    <a href="giamsat2.html">Trạm 2(Tòa A4)</a>
                </div>
            </div>
            <div class="subnav">
                <button class="subnavbtn"><i class="fas fa-cogs"></i> Điều khiển <i
                        class="fa fa-caret-down"></i></button>
                <div class="subnav-content">
                    <a href="dieukhien1.html">Trạm 1(Phòng Lab)</a>
                    <a href="dieukhien2.html">Trạm 2(Tòa A4)</a>
                </div>
            </div>
            <div class="subnav">
                <button class="subnavbtn"><i class="fas fa-user-cog"></i> Quản lý <i
                        class="fa fa-caret-down"></i></button>
                <div class="subnav-content">
                    <a href="quanlyuser.html">Người dùng</a>
                    <a href="device.html">Thiết bị</a>
                    <a href="report.html">Báo cáo</a>
                </div>
            </div>
            <a href="alert.html" id="alert-link"><i class="fas fa-exclamation-triangle"></i> Cảnh báo</a>
            <a href="login.html"><i class="fas fa-sign-out-alt"></i> Đăng xuất</a>
            <div class="user-role-container">
                <i class="fas fa-user-tag"></i>
                <span id="user-role"></span>               
            </div>
        </nav>

    </header>

    <main>
        <div class="container">
            <h1>Cảnh báo</h1>
            <!-- Phần hiển thị cảnh báo thời gian thực -->
            <div class="real-time-alerts">
                <h2><i class="fas fa-bell"></i> Cảnh báo thời gian thực</h2>
                <table id="alert-table-realtime">
                    <thead>
                        <tr>
                            <th>ID cảm biến</th>
                            <th>Kiểu cảnh báo</th>
                            <th>Mức độ</th>
                            <th>Chi tiết</th>
                            <th>Thời gian</th>
                        </tr>
                    </thead>
                    <tbody id="alert-table-realtime-body">
                        <!-- Dữ liệu sẽ được thêm ở đây -->
                    </tbody>
                </table>
            </div>

            <!-- Phần tìm kiếm cảnh báo theo ngày -->
            <div class="search-alerts">
                <h2><i class="fas fa-search"></i> Tra cứu lịch sử cảnh báo</h2>
                <label for="start-date">Từ ngày:</label>
                <input type="date" id="start-date" />
                <label for="end-date">Đến ngày:</label>
                <input type="date" id="end-date" />
                <button id="search-button">Tìm kiếm</button>
                <!-- Bảng danh sách cảnh báo -->
                <table id="alert-table">
                    <thead>
                        <tr>
                            <th>ID cảm biến</th>
                            <th>Kiểu cảnh báo</th>
                            <th>Mức độ cảnh báo</th>
                            <th>Chi tiết</th>
                            <th>Thời gian</th>
                        </tr>
                    </thead>
                    <tbody id="alert-table-body">
                        <!-- Dữ liệu cảnh báo sẽ được thêm vào đây -->
                    </tbody>
                </table>
            </div>
        </div>
    </main>
    <script>
        // Thêm lớp 'active' cho mục "Giám sát" khi người dùng truy cập trang này
        document.getElementById("alert-link").classList.add("active");
    </script>
    <script type="module" src="../assets/js/alert.js"></script> <!-- Liên kết tới file JS -->

</body>

</html>